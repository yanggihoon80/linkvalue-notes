---
const { src, alt = "", ...rest } = Astro.props;

const base = import.meta.env.BASE_URL;
const withBase = (p: any) => {
  const b = base.endsWith("/") ? base.slice(0, -1) : base;
  const path = String(p).startsWith("/") ? p : `/${p}`;
  return `${b}${path}`;
};
---

<img src={withBase(src)} alt={alt} {...rest} />
